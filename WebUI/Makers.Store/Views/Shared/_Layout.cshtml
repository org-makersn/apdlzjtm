@{
    ProfileModel profile = ViewBag.LogOnMemner as ProfileModel;
    string menuCode = ViewBag.CodeNo as string;
}
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->
<head>
    <meta name="title" content="makersN, 메이커스앤">
    <meta name="description" content="메이커스앤은 메이커들의 플랫폼이에요. 원하는 3D 모델을 찾고, 만들고, 나눌 수 있어요. 메이커스앤을 통해 당신의 상상을 현실로 만들어보세요!">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta charset="utf-8" />
    <title>@ViewBag.Title</title>
    <link rel="shortcut icon" type="image/x-icon" href="@Url.VersionedContent("~/favicon.ico")">
    @RenderSection("head", required: false)

    <link href="@Url.VersionedContent("~/Content/css/common.css")" rel="stylesheet" media="all" />

    @Scripts.Render("~/bundles/modernizr")
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/prettyprint")
    <style type="text/css">
        .pagination-container {
            text-align: center;
        }
    </style>
    <script type="text/javascript">
        var common_val = {};
    </script>
</head>
<body>
    <!-- Wrap -->
    <div class="wrap @ViewBag.WrapClass">

        <!-- Header -->
        <div class="header">

            <!-- HeaderTop -->
            <div class="headerTop">
                <div class="headerBox">
                    <!-- H1 -->
                    <h1><a href="javascript:GoMain()">
                        <img src="@Url.Content("~/Content/images/common/h1_logo.gif")" alt="MakersN Make & Share!" /></a></h1>
                    <!-- //H1 -->

                    <!-- MainMenu -->
                    <ul class="mainMenu">
                        <li><a href="http://local.dev.makersn.com">디자인</a></li>
                        <li><a href="http://local.store.makersn.com" class="on">스토어</a></li>
                    </ul>
                    <!-- //MainMenu -->

                    <!-- rightZone -->

                    <div class="rightZone">

                        <!-- SearchArea -->
                        <div class="searchArea">
                            <input type="text" id="searchTxt" name="searchTxt" value="@ViewBag.Text" />
                            <button title="검색" id="btnSearch" class="_search_btn"></button>
                            @*</form>*@
                            <p class="line"></p>
                        </div>
                        <!-- //SearchArea -->

                        @if (ViewBag.HasStore)
                        {
                            <a href="/store" class="printingSpot_btn" title="스토어관리"></a>
                        }

                        <!-- MemberArea -->
                        <a href="javascript:quickChkPopup()" class="memberArea" title="내 프로필">
                            @{if (profile.UserProfilePic == "")
                              {
                                  profile.UserProfilePic = "/Content/images/common/profile_photo2.png";
                              }
                              else
                              {
                                  profile.UserProfilePic = profile.UserProfilePic;
                              }
                              switch ((int)ViewBag.LogOnChk)
                              {
                                  case 0:
                                <img src="@Url.Content("~/Content/images/common/btn/btn_login.gif")" alt="Login" id="topProfileImg" />
                                      break;

                                  default:
                                <img src="@Url.ProfileImg(profile.UserProfilePic)" style="width:100%;height:100%" alt="Login"id="topProfileImg" />
                                      break;
                              }
                            }
                        </a>
                        <a href="#" class="printing_btn" id="showTop" onclick="chkPopup();" title="알림/메시지/내주문/로그아웃"></a>

                        @using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm" }))
                        {
                            @Html.AntiForgeryToken()
                        }
                        <!-- //MemberArea -->
                    </div>
                    <!-- rightZone -->
                </div>
                <!-- //headerBox -->
            </div>
            <!-- //HeaderTop -->

            <!-- GnbArea -->
            @if (ViewBag.ContClass == null)
            {
                <div class="gnbArea @ViewBag.Class">
                    <div class="gnbBox">
                        <ul class="nav">
                            @*@if (ViewBag.InfoList != null)
                            {
                                IList<CodeModel> infoList = (IList<CodeModel>)ViewBag.InfoList;
                                foreach (CodeModel code in infoList)
                                {
                                <li id="@code.MenuValue"><a href="@code.MenuUrl">@code.MenuTitle</a></li>
                                }
                            }
                            else
                            {
                                foreach (CodeModel menu in ViewBag.MenuList)
                                {
                                <li id="@menu.MenuCodeNo"><a href="@menu.MenuUrl">@menu.MenuTitle</a></li>
                                }
                            }*@
                            @Html.Action("showcategory", "category", new { gbn = "", strCode = menuCode })
                        </ul>

                        <div class="uploadArea">
                            <ul class="btnSet">

                                @RenderSection("editBtnzone", required: false)
                                <li>
                                    <a href="javascript:void(0);" title="상품등록" id="StoreItemUpload" class="upload">상품등록</a>
                                    <a href="javascript:void(0);" title="장바구니" id="StoreCart" class="upload">장바구니(<span id="cart-cnt">0</span>)</a>
                                </li>
                            </ul>

                        </div>

                    </div>
                </div>
            }
            <!-- //GnbArea -->
        </div>
        <!-- //Header -->
        @RenderSection("designMian", required: false)
        <!-- contWrap -->
        <div class="contWrap @ViewBag.ContClass">
            @RenderBody()
        </div>
        <!-- //contWrap -->

        <!-- Footer -->
        <div class="footer">
            <div class="footerList">
                <ul class="footMenu">
                    <li data-ng-class="{active : activeViewPath==='/about'}"><a href='/Info/about'>소개</a></li>
                    <li data-ng-class="{active : activeViewPath==='/customer'}"><a href="/Info/customer">고객센터</a></li>
                    <li data-ng-class="{active : activeViewPath==='/notice'}"><a href="/Info/notice">공지사항</a></li>
                    <li data-ng-class="{active : activeViewPath==='/license'}"><a href="/Info/license">라이센스</a></li>
                    <li data-ng-class="{active : activeViewPath==='/terms'}"><a href="/Info/terms">약관</a></li>
                    <li data-ng-class="{active : activeViewPath==='/privacy'}"><a href="/Info/privacy">개인정보취급방침</a></li>
                </ul>

                <ul class="footSns">
                    <li><a href="https://www.facebook.com/makersn" target="_blank">
                        <img src="@Url.Content("~/Content/images/common/foot_sns1.gif")" alt="facebook" /></a></li>
                </ul>
                <div class="copyRight">
                    <p>© makers corp. All right reserved.</p>
                </div>
            </div>

        </div>
        <!-- //Footer -->
    </div>
    <!-- //Wrap -->

    <!-- 로그인팝업 -->
    <div class="popupArea loginBox">
        <div class="bgArea">
        </div>
        <div class="popBox">

            <!-- Login Wrap -->
            <div class="loginWrap bg3">
                <div class="loginHeader">
                    <p class="headerLogo">
                        <img src="/content/images/common/login_tit1.png" alt="로그인" />
                    </p>
                    <p class="headerBtn">
                        <a href="#" onclick="joinGo();">
                            <img src="/content/images/common/btn/btn_join.png" alt="회원가입" /></a>
                    </p>
                </div>
                <div class="loginBox">
                    <div class="loinStep01">
                        <form id="login_form" name="login_form" method="post" action="/Account/LogOn">
                            <input type="hidden" name="returnUrl" id="returnUrl" value="">
                            <ul class="keyDown">
                                <li>
                                    <span>이메일</span>
                                    <div class="inputBox">
                                        <input type="text" name="UserId" id="UserId" placeholder="example@example.com" />
                                    </div>
                                </li>
                                <li>
                                    <span>비밀번호</span>
                                    <div class="inputBox">
                                        <input type="password" name="Password" id="Password" placeholder="최소 6자리 이상" />
                                    </div>
                                </li>
                            </ul>
                            <div class="loginGoing">
                                <span>
                                    <input type="checkbox" title="로그인 유지" id="login" checked="checked" /><label for="login"> 로그인 상태 유지하기</label></span>
                                <button type="button" onclick="pwSearch();">비밀번호 찾기</button>
                            </div>
                        </form>
                        <p class="loginBtn">
                            <button type="button" class="settingBtn" title="로그인" id="login_submit">로그인</button>
                        </p>
                        @Html.Action("ExternalLoginsList", "Account", new { ReturnUrl = ViewBag.ReturnUrl })
                        <p class="pop_beta" style="font-size: 15px">
                            현재 프린팅 서비스는 '클로즈 베타 테스트' 중으로
초대를 통해서만 이용할 수 있습니다.
                        </p>
                    </div>

                </div>
            </div>
            <!-- // Login Wrap -->

        </div>
    </div>
    <!-- // 로그인팝업 -->

    <!-- 비밀번호 찾기팝업 -->
    <div class="popupArea pwSearch">
        <div class="bgArea">
        </div>
        <div class="popBox">
            <div class="pwWrap bg3">
                <div class="loginBox">
                    <p class="pwTit">
                        <img src="/content/images/common/pwfind_tit.png" alt="비밀번호 찾기" />
                    </p>
                    <p class="pwInfo">
                        가입시 등록하신 이메일 주소를 입력하시면<br />
                        임시 비밀번호를 보내드립니다.
                    </p>
                    <div class="loinStep02">
                        <form id="find_form" name="find_form" method="post">
                            <ul class="keyDown">
                                <li>
                                    <span>이메일</span>
                                    <div class="inputBox">
                                        <input type="text" name="TemporaryEmail" id="TemporaryEmail" placeholder="example@example.com" />
                                    </div>
                                </li>
                            </ul>
                        </form>
                        <p class="pwfSend">
                            <button type="button" onclick="TemporaryPw();" title="임시 비밀번호 발송">임시 비밀번호 발송</button>
                        </p>
                        <div class="loginGo">
                            <button type="button" onclick="loginPop(0);" title="로그인 창으로 돌아가기">로그인 창으로 돌아가기</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- // 비밀번호 찾기팝업 -->

    <!-- 비밀번호 전송팝업 -->
    <div class="popupArea pwSend">
        <div class="bgArea">
        </div>
        <div class="popBox">
            <div class="pwWrap bg3">
                <div class="loginBox">
                    <p class="pwsImg">
                        <img src="/content/images/common/pwsend_img1.png" alt="비밀번호 발송" />
                    </p>
                    <p class="sendInfo">
                        등록하신 이메일 주소로
                        <br />
                        임시 비밀번호가 발송되었습니다.<br />
                        임시 비밀번호로 로그인하신 후에<br />
                        반드시 새 비밀번호로 변경해주세요.
                    </p>
                    <div class="loinStep03">
                        <div class="loginGo">
                            <button type="button" onclick="loginPop(0);" title="로그인 창으로 돌아가기">로그인 창으로 돌아가기</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <!-- // 비밀번호 전송팝업 -->


    <!-- 회원가입 팝업 -->
    <div class="popupArea join">
        <div class="bgArea">
        </div>
        <div class="popBox">

            <!-- joinWrap -->
            <div class="joinWrap bg1">
                <div class="loginHeader">
                    <p class="headerLogo">
                        <img src="/content/images/common/login_logo.png" alt="makersN" />
                    </p>
                    <p class="headerBtn">
                        <a href="#" onclick="loginPop(0);">
                            <img src="/content/images/common/btn/btn_login_pop.png" alt="로그인" /></a>
                    </p>
                </div>
                <div class="headerText">
                    <p class="txt1">퇴근 후 아이와 함께 놀아줄 장난감을 프린팅했어요.</p>
                    <p class="txt2">메이커스앤에서는 누구나 3D 디자인을 무료로 다운로드 할 수 있어요!</p>
                </div>
                <div class="joinStep01">
                    <form id="join_form" name="join_form" method="post" action="/Account/JoinOn">
                        <input type="hidden" name="ReturnUrl" id="joinReturnUrl" value="">
                        <ul class="keyDown">
                            <li>
                                <span>사용자 이름</span>
                                <div class="inputBox">
                                    <input type="text" id="JoinName" name="JoinName" placeholder="이름 또는 닉네임" />
                                </div>
                            </li>
                            <li>
                                <span>이메일</span>
                                <div class="inputBox">
                                    <input type="text" id="JoinEmail" name="JoinEmail" placeholder="example@example.com" />
                                </div>
                            </li>
                            <li>
                                <span>비밀번호</span>
                                <div class="inputBox">
                                    <input type="password" id="JoinPassword" name="JoinPassword" placeholder="최소 6자 이상" />
                                </div>
                            </li>
                            <li>
                                <span>비밀번호 확인</span>
                                <div class="inputBox">
                                    <input type="password" id="JoinRePassword" name="JoinRePassword" placeholder="최소 6자 이상" />
                                </div>
                            </li>
                        </ul>
                    </form>

                    <p class="joinBtn">
                        <button type="button" title="회원가입" id="join_submit">회원 가입</button>
                    </p>
                    @Html.Action("ExternalJoins", "Account", new { ReturnUrl = ViewBag.ReturnUrl })
                    <p class="agreeGo"><a href="/Info/terms">이용 약관 보기</a></p>
                </div>
            </div>
            <!-- // joinWrap -->

        </div>
    </div>
    <!-- // 회원가입 팝업 -->

    <!-- 회원가입 완료 -->
    <div class="popupArea joinComplete">
        <div class="bgArea">
        </div>
        <div class="popBox">

            <!-- joinWrap -->
            <div class="joinWrap bg1">
                <p class="joinTxt1">
                    <img src="/content/images/common/joinfinish_txt1.png" alt="회원가입이 성공적으로 완료되었습니다.  메이커스앤 회원이 되신 것을 축하합니다." />
                </p>
                <div class="joinStep02">
                    <p class="homeBtn">
                        <button type="button" onclick="go_url('main.html');" title="홈으로 이동">홈으로 이동</button>
                    </p>
                    <p class="profileBtn">
                        <button type="button" onclick="go_url('my_profile.html');" title="내 프로필 페이지로 이동">내 프로필 페이지로 이동</button>
                    </p>
                </div>
            </div>
            <!-- // joinWrap -->

        </div>
    </div>
    <!-- // 회원가입 완료 -->

    <!-- 로그인 후 마이페지 -->
    <form id="topForm" action="/profile" method="post">
        <input type="hidden" id="hfGubun" name="gubun" />
        <div class="topMypage">
            <ul>
                <li>
                    <a href="javascript:GoPageFromTop('N')" id="profileNotice">알림</a>
                </li>
                <li>
                    <a href="javascript:GoPageFromTop('message')" id="messageCnt">메시지</a>
                </li>
                <li>
                    <a href="/order/myorder">내 주문</a>
                </li>
                <li><a href="javascript:LogOff();">로그아웃</a></li>
            </ul>
        </div>
    </form>
    <!-- //로그인 후 마이페지 -->

    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/custom")

    @*<script type="text/javascript" src="@Url.Content("~/Scripts/jquery.cookie.js")"></script>*@

    @if (ViewBag.IsMain == "N")
    {
        <script src="@Url.VersionedContent("~/Scripts/jquery.form.min.js")" type="text/javascript"></script>
        <script src="@Url.VersionedContent("~/Scripts/jquery.lazyload.js")" type="text/javascript"></script>
        <script type="text/javascript">
            $(function () {
                $("img.lazy-load").lazyload({ effect: "fadeIn" });
            });
        </script>
    }

    @if (ViewBag.InfoList != null)
    {
        <style type="text/css">
            .wrap {
                background: #fff !important;
            }
        </style>
        <script type="text/javascript">
            $(function () {
                if ("@ViewBag.InfoList" != "") {
                    var page = document.location.href;
                    var indexT = page.lastIndexOf("/");
                    page = page.substring(indexT + 1);
                    $("#" + page + "").addClass("on");
                }
            });
        </script>
    }
    else
    {
        //다른 레이아웃에서 사용할것들
    }

    @RenderSection("scripts", required: false)

    <script type="text/javascript">

        //로그인 아이콘 클릭
        function chkPopup() {
            if (loginPop("@ViewBag.LogOnChk")) return false;
            mypageGo();
        }

        function quickChkPopup() {
            if (!loginPop("@ViewBag.LogOnChk")) {
                location.href = "/profile";
            };
        }

        $("#StoreCart").click(function () {
            if (!loginPop("@ViewBag.LogOnChk")) {
                location.href = "/cart/list";
            };
        });

        function GoMain() {
            location.href = "/";
        }

        $(function () {
            $("#StoreItemUpload").click(function (e) {
                if (loginPop("@ViewBag.LogOnChk")) return false;
                //스토어 회원인지 체크
                if (true) {
                    $(location).attr("href", "/item/upload");
                }
                else {
                    $(location).attr("href", "/store/regist");
                }
            });

            $('body').append('<a href="#" class="back-to-top"></a>');

            $(window).scroll(function () {
                if ($(this).scrollTop() > 250) {
                    $('.back-to-top').fadeIn(100);

                    if ($(window).scrollTop() + $(window).height() > $(document).height() - 180) {

                        var marginBottom = 180 - ($(document).height() - $(window).scrollTop() - $(window).height());
                        $(".back-to-top").css("margin-bottom", marginBottom + "px");

                    } else {
                        $(".back-to-top").css("margin-bottom", "0px");
                    }
                } else {
                    $('.back-to-top').fadeOut(100);
                }
            });

            $('.back-to-top').click(function (event) {
                event.preventDefault();
                $('html, body').animate({ scrollTop: 0 }, 500);
            })

            //다른데 클릭 하면 숨김
            $(document).on('click', function (e) {
                $('.valueLi').hide();
            });
        });
    </script>
</body>

</html>
